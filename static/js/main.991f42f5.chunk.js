(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[0],{15:function(e,t,a){var s=a(19).create({baseURL:"https://conduit.productionready.io"});e.exports={request:s}},41:function(e,t,a){},61:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var s=a(1),c=a.n(s),n=a(34),i=a.n(n),r=(a(41),a(5)),l=a(6),o=a(8),j=a(7),d=a(19),h=a.n(d),b=a(12),u=a(2),m=a(3),O=a.n(m),p=a(13),x=a.n(p),f=(a(61),a(0)),g=function(e){Object(o.a)(a,e);var t=Object(j.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).state={token:"",image:"",username:"",auth:""},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(x.a.subscribe("show",(function(t,a){e.setState(a)})),O.a.getJSON("auth")){var t=O.a.getJSON("auth"),a=t.token,s=t.image,c=t.username;this.setState({token:a,image:s,username:c})}x.a.subscribe("remove",(function(t,a){e.setState(a)}))}},{key:"render",value:function(){return O.a.getJSON("auth")?Object(f.jsx)("div",{children:Object(f.jsx)("nav",{className:"navbar navbar-light",children:Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)(b.b,{className:"navbar-brand",to:"/",children:"conduit"}),Object(f.jsxs)("ul",{className:"nav navbar-nav pull-xs-right",children:[Object(f.jsx)("li",{className:"nav-item",children:Object(f.jsx)(b.b,{className:"nav-link",to:"/",activeClassName:"active",children:"Home"})}),Object(f.jsx)("li",{className:"nav-item",children:Object(f.jsxs)(b.b,{className:"nav-link",to:"/article",activeClassName:"active",children:[Object(f.jsx)("i",{className:"ion-compose"}),"\xa0New Articles"]})}),Object(f.jsx)("li",{className:"nav-item",children:Object(f.jsxs)(b.b,{className:"nav-link",to:"/settings",activeClassName:"active",children:[Object(f.jsx)("i",{className:"ion-gear-a"}),"\xa0Settings"]})}),Object(f.jsx)("li",{className:"nav-item",children:Object(f.jsxs)(b.b,{className:"nav-link",activeClassName:"active",to:"/profile",children:[Object(f.jsx)("img",{src:this.state.image,className:"user-pic",alt:""}),this.state.username]})})]})]})})}):Object(f.jsx)("div",{children:Object(f.jsx)("nav",{className:"navbar navbar-light",children:Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)(b.b,{className:"navbar-brand",to:"/",children:"conduit"}),Object(f.jsxs)("ul",{className:"nav navbar-nav pull-xs-right",children:[Object(f.jsx)("li",{className:"nav-item",children:Object(f.jsx)(b.b,{className:"nav-link",to:"/",activeClassName:"active",children:"Home"})}),Object(f.jsx)("li",{className:"nav-item",children:Object(f.jsx)(b.b,{className:"nav-link",activeClassName:"active",to:"/register",children:"Sign in"})}),Object(f.jsx)("li",{className:"nav-item",children:Object(f.jsx)(b.b,{className:"nav-link",activeClassName:"active",to:"/login",children:"Sign up"})})]})]})})})}}]),a}(s.Component),v=function(e){Object(o.a)(a,e);var t=Object(j.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(f.jsx)("div",{children:Object(f.jsx)("footer",{children:Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)("a",{href:"/",className:"logo-font",children:"conduit"}),Object(f.jsxs)("span",{className:"attribution",children:["An interactive learning project from ",Object(f.jsx)("a",{href:"https://thinkster.io",children:"Thinkster"}),". Code & design licensed under MIT."]})]})})})}}]),a}(s.Component),N=a(24),k=a.n(N),y=a(36),S=a(15),w=function(e){var t=e.slug;return S.request.interceptors.request.use((function(e){if(O.a.getJSON("auth"))var t=O.a.getJSON("auth").token;return e.headers.Authorization="Token "+t,e}),(function(e){return Promise.reject(e)})),Object(S.request)({method:"post",url:"/api/articles/".concat(t,"/favorite")})},C=function(e){var t=e.slug;return S.request.interceptors.request.use((function(e){if(O.a.getJSON("auth"))var t=O.a.getJSON("auth").token;return e.headers.Authorization="Token "+t,e}),(function(e){return Promise.reject(e)})),Object(S.request)({method:"delete",url:"/api/articles/".concat(t,"/favorite"),params:{}})},A=function(e){Object(o.a)(a,e);var t=Object(j.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).avalue=function(e){Object(S.request)({method:"get",url:"/api/articles",params:{limit:10,offset:(e.target.innerText-1)*s.state.data.length}}).then((function(t){s.setState({data:t.data.articles,activepage:e.target.innerText})}))},s.like=function(){var e=Object(y.a)(k.a.mark((function e(t){var a,c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!O.a.getJSON("auth")){e.next=26;break}return e.next=3,s.setState({forbidden:!0});case 3:if(!t.favorited){e.next=14;break}return e.next=6,C(t);case 6:return t.favorited=!1,t.favoritesCount+=-1,a=s.state.dataArr.articles.indexOf(t),s.state.dataArr.articles[a]=t,e.next=12,s.setState({articles:s.state.dataArr.articles});case 12:e.next=22;break;case 14:return e.next=16,w(t).then((function(e){}));case 16:return t.favorited=!0,t.favoritesCount+=1,c=s.state.dataArr.articles.indexOf(t),s.state.dataArr.articles[c]=t,e.next=22,s.setState({articles:s.state.dataArr.articles});case 22:return e.next=24,s.setState({forbidden:!1});case 24:e.next=29;break;case 26:return e.next=28,s.setState({forbidden:!0});case 28:s.props.history.push("/register");case 29:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.state={dataArr:{articles:[]},forbidden:!1,data:[],page:[],activepage:1},s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;console.log(this.props),Object(S.request)({method:"get",url:"/api/articles?limit=10",params:{}}).then((function(t){for(var a=[],s=1;s<=t.data.articlesCount/t.data.articles.length;s++)a.push(s);e.setState({data:t.data.articles,page:a})}))}},{key:"render",value:function(){var e=this;return Object(f.jsxs)("div",{className:"home-page",children:[Object(f.jsx)("div",{className:"banner",children:Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)("h1",{className:"logo-font",children:"conduit"}),Object(f.jsx)("p",{children:"A place to share your knowledge."})]})}),Object(f.jsx)("div",{className:"container page",children:Object(f.jsxs)("div",{className:"row",children:[Object(f.jsxs)("div",{className:"col-md-9",children:[Object(f.jsx)("div",{className:"feed-toggle",children:Object(f.jsxs)("ul",{className:"nav nav-pills outline-active",children:[Object(f.jsx)("li",{className:"nav-item",children:Object(f.jsx)("a",{className:"nav-link disabled",href:"##",children:"Your Feed"})}),Object(f.jsx)("li",{className:"nav-item",children:Object(f.jsx)("a",{className:"nav-link active",href:"##",children:"Global Feed"})})]})}),this.state.data.map((function(t,a){return Object(f.jsxs)("div",{className:"article-preview",children:[Object(f.jsxs)("div",{className:"article-meta",children:[Object(f.jsx)("a",{href:"profile.html",children:Object(f.jsx)("img",{src:t.author.image,alt:""})}),Object(f.jsxs)("div",{className:"info",children:[Object(f.jsx)("a",{href:"##",className:"author",children:t.author.username}),Object(f.jsx)("span",{className:"date",children:t.createdAt})]}),Object(f.jsxs)("button",{className:"btn btn-outline-primary btn-sm pull-xs-right",onClick:function(){e.like(t)},disabled:e.state.forbidden,children:[Object(f.jsx)("i",{className:"ion-heart"})," ",t.favoritesCount]})]}),Object(f.jsxs)("a",{href:"##",className:"preview-link",children:[Object(f.jsx)("h1",{children:t.title}),Object(f.jsx)("p",{children:t.description}),Object(f.jsx)("span",{children:"Read more..."})]})]},a)})),Object(f.jsx)("list-pagination",{"total-pages":"$ctrl.listConfig.totalPages","current-page":"$ctrl.listConfig.currentPage",children:Object(f.jsx)("nav",{children:Object(f.jsx)("ul",{className:"pagination",children:this.state.page.map((function(t,a){return Object(f.jsx)("li",{className:Number(e.state.activepage)===Number(t)?"page-item active":"page-item",children:Object(f.jsx)("a",{className:"page-link",href:"##",onClick:e.avalue,children:t})},a)}))})})})]}),Object(f.jsx)("div",{className:"col-md-3",children:Object(f.jsxs)("div",{className:"sidebar",children:[Object(f.jsx)("p",{children:"Popular Tags"}),Object(f.jsxs)("div",{className:"tag-list",children:[Object(f.jsx)("a",{href:"##",className:"tag-pill tag-default",children:"programming"}),Object(f.jsx)("a",{href:"##",className:"tag-pill tag-default",children:"javascript"}),Object(f.jsx)("a",{href:"##",className:"tag-pill tag-default",children:"emberjs"}),Object(f.jsx)("a",{href:"##",className:"tag-pill tag-default",children:"angularjs"}),Object(f.jsx)("a",{href:"##",className:"tag-pill tag-default",children:"react"}),Object(f.jsx)("a",{href:"##",className:"tag-pill tag-default",children:"mean"}),Object(f.jsx)("a",{href:"##",className:"tag-pill tag-default",children:"node"}),Object(f.jsx)("a",{href:"##",className:"tag-pill tag-default",children:"rails"})]})]})})]})})]})}}]),a}(s.Component),P=a(17),J=function(e){Object(o.a)(a,e);var t=Object(j.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(f.jsx)("fieldset",{className:"form-group",children:Object(f.jsx)("input",{className:"form-control form-control-lg",type:"text",placeholder:"Your Name"})})}}]),a}(s.Component),T=function(e){Object(o.a)(a,e);var t=Object(j.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(f.jsx)("ul",{className:"error-messages"})}}]),a}(c.a.Component),M=function(e){Object(o.a)(a,e);var t=Object(j.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).state={is:!1,em:"",passw:""},e.initEm=e.initEm.bind(Object(P.a)(e)),e.initPass=e.initPass.bind(Object(P.a)(e)),e.haddSubmit=e.haddSubmit.bind(Object(P.a)(e)),e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){}},{key:"islogin",value:function(){return"/register"===this.props.match.path}},{key:"initEm",value:function(e){this.setState({em:e.target.value})}},{key:"initPass",value:function(e){this.setState({passw:e.target.value})}},{key:"haddSubmit",value:function(e){var t=this,a=this.state,s=a.em,c=a.passw;e.preventDefault(),Object(S.request)({method:"post",url:"/api/users/login",data:{user:{email:s,password:c}}}).then((function(e){var a=e.data.user,s={token:a.token,username:a.username,image:a.image,updatedAt:a.updatedAt,bio:a.bio};200===e.status&&(x.a.publish("show",s),O.a.set("auth",s),t.props.history.push("/"),x.a.publish("refnews",{refNew:!0}))}))}},{key:"render",value:function(){var e=this.state,t=e.em,a=e.passw;return Object(f.jsx)("div",{className:"auth-page",children:Object(f.jsx)("div",{className:"container page",children:Object(f.jsx)("div",{className:"row",children:Object(f.jsxs)("div",{className:"col-md-6 offset-md-3 col-xs-12",children:[Object(f.jsx)("h1",{className:"text-xs-center",children:this.islogin()?"Sign in":"Sign up"}),Object(f.jsx)("p",{className:"text-xs-center",children:Object(f.jsx)("a",{href:"##",children:this.islogin()?"Have an account?":"Need an account?"})}),this.islogin()?"":Object(f.jsx)(T,{}),Object(f.jsxs)("form",{onSubmit:this.haddSubmit,children:[this.islogin()?"":Object(f.jsx)(J,{}),Object(f.jsx)("fieldset",{className:"form-group",children:Object(f.jsx)("input",{onChange:this.initEm,value:t,className:"form-control form-control-lg",type:"text",placeholder:"Email"})}),Object(f.jsx)("fieldset",{className:"form-group",children:Object(f.jsx)("input",{onChange:this.initPass,value:a,className:"form-control form-control-lg",type:"password",placeholder:"Password"})}),Object(f.jsx)("button",{className:"btn btn-lg btn-primary pull-xs-right",children:this.islogin()?"Sign in":"Sign up"})]})]})})})})}}]),a}(s.Component),q=function(e){Object(o.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,c=new Array(s),n=0;n<s;n++)c[n]=arguments[n];return(e=t.call.apply(t,[this].concat(c))).speakSubmit=function(){console.log("\u53d1\u8868")},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.speakSubmit()}},{key:"render",value:function(){return Object(f.jsx)("div",{className:"editor-page",children:Object(f.jsx)("div",{className:"container page",children:Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"col-md-10 offset-md-1 col-xs-12",children:Object(f.jsx)("form",{onSubmit:this.speakSubmit,children:Object(f.jsxs)("fieldset",{children:[Object(f.jsx)("fieldset",{className:"form-group",children:Object(f.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Article Title"})}),Object(f.jsx)("fieldset",{className:"form-group",children:Object(f.jsx)("input",{type:"text",className:"form-control",placeholder:"What's this article about?"})}),Object(f.jsx)("fieldset",{className:"form-group",children:Object(f.jsx)("textarea",{className:"form-control",rows:"8",placeholder:"Write your article (in markdown)"})}),Object(f.jsxs)("fieldset",{className:"form-group",children:[Object(f.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter tags"}),Object(f.jsx)("div",{className:"tag-list"})]}),Object(f.jsx)("button",{className:"btn btn-lg pull-xs-right btn-primary",type:"button",onClick:this.speakSubmit,children:"Publish Article"})]})})})})})})}}]),a}(s.Component),D=function(e){Object(o.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,c=new Array(s),n=0;n<s;n++)c[n]=arguments[n];return(e=t.call.apply(t,[this].concat(c))).state={image:"",username:"",bio:""},e.logout=function(){O.a.remove("auth"),e.props.history.push("/"),x.a.publish("remove",{auth:""}),x.a.publish("refnew1",{refNew:!0})},e.intChange=function(){},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=O.a.getJSON("auth"),t=e.username,a=e.image,s=e.bio;this.setState({image:a,username:t,bio:s})}},{key:"render",value:function(){return Object(f.jsx)("div",{className:"settings-page",children:Object(f.jsx)("div",{className:"container page",children:Object(f.jsx)("div",{className:"row",children:Object(f.jsxs)("div",{className:"col-md-6 offset-md-3 col-xs-12",children:[Object(f.jsx)("h1",{className:"text-xs-center",children:"Your Settings"}),Object(f.jsx)("form",{children:Object(f.jsxs)("fieldset",{children:[Object(f.jsx)("fieldset",{className:"form-group",children:Object(f.jsx)("input",{className:"form-control",type:"text",placeholder:"URL of profile picture",value:this.state.image,onChange:this.intChange})}),Object(f.jsx)("fieldset",{className:"form-group",children:Object(f.jsx)("input",{className:"form-control form-control-lg",type:"text",placeholder:"Your Name",value:this.state.username,onChange:this.intChange})}),Object(f.jsx)("fieldset",{className:"form-group",children:Object(f.jsx)("textarea",{className:"form-control form-control-lg",rows:"8",placeholder:"Short bio about you",value:this.state.bio,onChange:this.intChange})}),Object(f.jsx)("fieldset",{className:"form-group",children:Object(f.jsx)("input",{className:"form-control form-control-lg",type:"text",placeholder:"Email"})}),Object(f.jsx)("fieldset",{className:"form-group",children:Object(f.jsx)("input",{className:"form-control form-control-lg",type:"password",placeholder:"Password"})}),Object(f.jsx)("button",{className:"btn btn-lg btn-primary pull-xs-right",children:"Update Settings"})]})}),Object(f.jsx)("hr",{}),Object(f.jsx)("button",{className:"btn btn-primary btn-outline-danger",onClick:this.logout,children:"Or click here to logout."})]})})})})}}]),a}(s.Component),E=function(e){Object(o.a)(a,e);var t=Object(j.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).state={image:"",username:""},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.setState(O.a.getJSON("auth"))}},{key:"render",value:function(){var e=this.state,t=e.image,a=e.username;return Object(f.jsxs)("div",{className:"profile-page",children:[Object(f.jsx)("div",{className:"user-info",children:Object(f.jsx)("div",{className:"container",children:Object(f.jsx)("div",{className:"row",children:Object(f.jsxs)("div",{className:"col-xs-12 col-md-10 offset-md-1",children:[Object(f.jsx)("img",{alt:"",src:t,className:"user-img"}),Object(f.jsx)("h4",{children:a}),Object(f.jsx)("p",{children:"Cofounder @GoThinkster, lived in Aol's HQ for a few months, kinda looks like Peeta from the Hunger Games"}),Object(f.jsxs)("button",{className:"btn btn-sm btn-outline-secondary action-btn",children:[Object(f.jsx)("i",{className:"ion-plus-round"}),"\xa0 Follow Eric Simons"]})]})})})}),Object(f.jsx)("div",{className:"container",children:Object(f.jsx)("div",{className:"row",children:Object(f.jsxs)("div",{className:"col-xs-12 col-md-10 offset-md-1",children:[Object(f.jsx)("div",{className:"articles-toggle",children:Object(f.jsxs)("ul",{className:"nav nav-pills outline-active",children:[Object(f.jsx)("li",{className:"nav-item",children:Object(f.jsx)("a",{className:"nav-link active",href:"##",children:"My Articles"})}),Object(f.jsx)("li",{className:"nav-item",children:Object(f.jsx)("a",{className:"nav-link",href:"##",children:"Favorited Articles"})})]})}),Object(f.jsxs)("div",{className:"article-preview",children:[Object(f.jsxs)("div",{className:"article-meta",children:[Object(f.jsx)("a",{href:"##",children:Object(f.jsx)("img",{alt:"",src:"https://img2.baidu.com/it/u=4274583492,4022406993&fm=26&fmt=auto&gp=0.jpg"})}),Object(f.jsxs)("div",{className:"info",children:[Object(f.jsx)("a",{href:"##",className:"author",children:"Eric Simons"}),Object(f.jsx)("span",{className:"date",children:"January 20th"})]}),Object(f.jsxs)("button",{className:"btn btn-outline-primary btn-sm pull-xs-right",children:[Object(f.jsx)("i",{className:"ion-heart"})," 29"]})]}),Object(f.jsxs)("a",{href:"##",className:"preview-link",children:[Object(f.jsx)("h1",{children:"How to build webapps that scale"}),Object(f.jsx)("p",{children:"This is the description for the post."}),Object(f.jsx)("span",{children:"Read more..."})]})]}),Object(f.jsxs)("div",{className:"article-preview",children:[Object(f.jsxs)("div",{className:"article-meta",children:[Object(f.jsx)("a",{href:"##",children:Object(f.jsx)("img",{alt:"",src:"https://img2.baidu.com/it/u=4274583492,4022406993&fm=26&fmt=auto&gp=0.jpg"})}),Object(f.jsxs)("div",{className:"info",children:[Object(f.jsx)("a",{href:"##",className:"author",children:"Albert Pai"}),Object(f.jsx)("span",{className:"date",children:"January 20th"})]}),Object(f.jsxs)("button",{className:"btn btn-outline-primary btn-sm pull-xs-right",children:[Object(f.jsx)("i",{className:"ion-heart"})," 32"]})]}),Object(f.jsxs)("a",{href:"##",className:"preview-link",children:[Object(f.jsx)("h1",{children:"The song you won't ever stop singing. No matter how hard you try."}),Object(f.jsx)("p",{children:"This is the description for the post."}),Object(f.jsx)("span",{children:"Read more..."}),Object(f.jsxs)("ul",{className:"tag-list",children:[Object(f.jsx)("li",{className:"tag-default tag-pill tag-outline",children:"Music"}),Object(f.jsx)("li",{className:"tag-default tag-pill tag-outline",children:"Song"})]})]})]})]})})})]})}}]),a}(c.a.Component),F=function(e){Object(o.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,c=new Array(s),n=0;n<s;n++)c[n]=arguments[n];return(e=t.call.apply(t,[this].concat(c))).state={refNew:!0},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;h()({method:"get",url:"https://conduit.productionready.io/api/users/login"}).then((function(e){})),h()({method:"get",url:"/api/profiles/\u9c7c\u9999Div"}).then((function(e){})),x.a.subscribe("refnew1",(function(t,a){e.setState(a)})),x.a.subscribe("refnews",(function(t,a){e.setState(a)}))}},{key:"render",value:function(){return O.a.getJSON("auth")?Object(f.jsx)("div",{children:Object(f.jsxs)(b.a,{children:[Object(f.jsx)(g,{}),Object(f.jsxs)(u.d,{children:[Object(f.jsx)(u.b,{exact:!0,path:"/",component:A}),Object(f.jsx)(u.b,{exact:!0,path:"/login",component:A}),Object(f.jsx)(u.b,{exact:!0,path:"/register",component:A}),Object(f.jsx)(u.b,{exact:!0,path:"/article",component:q}),Object(f.jsx)(u.b,{exact:!0,path:"/settings",component:D}),Object(f.jsx)(u.b,{exact:!0,path:"/profile",component:E}),Object(f.jsx)(u.a,{to:"/"})]}),Object(f.jsx)(v,{})]})}):Object(f.jsx)("div",{children:Object(f.jsxs)(b.a,{children:[Object(f.jsx)(g,{}),Object(f.jsxs)(u.d,{children:[Object(f.jsx)(u.b,{exact:!0,path:"/",component:A}),Object(f.jsx)(u.b,{exact:!0,path:"/login",component:M}),Object(f.jsx)(u.b,{exact:!0,path:"/register",component:M}),Object(f.jsx)(u.b,{exact:!0,path:"/article",component:A}),Object(f.jsx)(u.b,{exact:!0,path:"/settings",component:A}),Object(f.jsx)(u.b,{exact:!0,path:"/profile",component:A}),Object(f.jsx)(u.a,{to:"/"})]}),Object(f.jsx)(v,{})]})})}}]),a}(s.Component),H=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,69)).then((function(t){var a=t.getCLS,s=t.getFID,c=t.getFCP,n=t.getLCP,i=t.getTTFB;a(e),s(e),c(e),n(e),i(e)}))};i.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(F,{})}),document.getElementById("root")),H()}},[[68,1,2]]]);
//# sourceMappingURL=main.991f42f5.chunk.js.map